(this["webpackJsonpwordle-1"]=this["webpackJsonpwordle-1"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var l=n(0),r=n.n(l),a=n(2),s=n.n(a);n(12);var c=e=>{const[t,n]=Object(l.useState)(0),[r,a]=Object(l.useState)(""),[s,c]=Object(l.useState)([...Array(6)]),[u,o]=Object(l.useState)([]),[i,m]=Object(l.useState)(!1),[d,E]=Object(l.useState)({});return{turn:t,currentGuess:r,guesses:s,isCorrect:i,usedKeys:d,handleKeyup:l=>{let{key:s}=l;if("Enter"===s){if(t>5)return void console.log("all guesses have been used");if(u.includes(r))return void console.log("you tried that already!");if(5!==r.length)return void console.log("must be 5 chars");const l=(()=>{let t=[...e],n=[...r].map(e=>({key:e,color:"grey"}));return n.forEach((e,l)=>{t[l]===e.key&&(n[l].color="green",t[l]=null)}),n.forEach((e,l)=>{t.includes(e.key)&&"green"!==e.color&&(n[l].color="yellow",t[t.indexOf(e.key)]=null)}),n})();i=l,r===e&&m(!0),c(e=>{let n=[...e];return n[t]=i,n}),o(e=>[...e,r]),n(e=>e+1),E(e=>(i.forEach(t=>{const n=e[t.key];"green"!==t.color?"yellow"!==t.color||"green"===n?"grey"!==t.color||"green"===n||(e[t.key]="grey"):e[t.key]="yellow":e[t.key]="green"}),e)),a("")}var i;"Backspace"!==s?/^[A-Za-z]$/.test(s)&&r.length<5&&a(e=>e+s):a(e=>e.slice(0,-1))}}};function u(e){let{guess:t,currentGuess:n}=e;if(t)return r.a.createElement("div",{className:"row past"},t.map((e,t)=>r.a.createElement("div",{key:t,className:e.color},e.key)));if(n){let e=n.split("");return r.a.createElement("div",{className:"row current"},e.map((e,t)=>r.a.createElement("div",{key:t,className:"filled"},e)),[...Array(5-e.length)].map((e,t)=>r.a.createElement("div",{key:t})))}return r.a.createElement("div",{className:"row"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}function o(e){let{currentGuess:t,guesses:n,turn:l}=e;return r.a.createElement("div",null,n.map((e,n)=>l===n?r.a.createElement(u,{key:n,currentGuess:t}):r.a.createElement(u,{key:n,guess:e})))}function i(e){let{usedKeys:t}=e;const[n,a]=Object(l.useState)(null);return Object(l.useEffect)(()=>{fetch("http://localhost:3001/letters").then(e=>e.json()).then(e=>{a(e)})},[]),r.a.createElement("div",{className:"keypad"},n&&n.map(e=>{const n=t[e.key];return r.a.createElement("div",{key:e.key,className:n},e.key)}))}function m(e){let{isCorrect:t,solution:n,turn:l}=e;return r.a.createElement("div",{className:"modal"},t&&r.a.createElement("div",null,r.a.createElement("h1",null,"You Win!"),r.a.createElement("p",{className:"solution"},n),r.a.createElement("p",null,"You found the solution in ",l," guesses :)")),!t&&r.a.createElement("div",null,r.a.createElement("h1",null,"You lose!"),r.a.createElement("p",{className:"solution"},"The answer was ",n),r.a.createElement("p",null,"Better luck next time :)")))}function d(e){let{solution:t}=e;const{currentGuess:n,guesses:a,turn:s,isCorrect:u,usedKeys:d,handleKeyup:E}=c(t),[y,v]=Object(l.useState)(!1);return Object(l.useEffect)(()=>(window.addEventListener("keyup",E),u&&(setTimeout(()=>v(!0),2e3),window.removeEventListener("keyup",E)),s>5&&(setTimeout(()=>v(!0),2e3),window.removeEventListener("keyup",E)),()=>window.removeEventListener("keyup",E)),[E,u,s]),r.a.createElement("div",null,r.a.createElement(o,{guesses:a,currentGuess:n,turn:s}),r.a.createElement(i,{usedKeys:d}),y&&r.a.createElement(m,{isCorrect:u,turn:s,solution:t}))}var E=function(){const[e,t]=Object(l.useState)(null);return Object(l.useEffect)(()=>{fetch("http://localhost:3001/solutions").then(e=>e.json()).then(e=>{const n=e[Math.floor(Math.random()*e.length)];t(n.word)})},[]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Wordle Clone"),e&&r.a.createElement(d,{solution:e}))};var y=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then(t=>{let{getCLS:n,getFID:l,getFCP:r,getLCP:a,getTTFB:s}=t;n(e),l(e),r(e),a(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null))),y()},3:function(e,t,n){e.exports=n(13)}},[[3,1,2]]]);
//# sourceMappingURL=main.4cdce7dc.chunk.js.map